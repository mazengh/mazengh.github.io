(function(e){function t(t){for(var r,i,a=t[0],l=t[1],u=t[2],h=0,d=[];h<a.length;h++)i=a[h],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);c&&c(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,a=1;a<n.length;a++){var l=n[a];0!==o[l]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},s=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var c=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"08d1":function(e,t,n){},5554:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r,o,s,i,a,l,u,c,h,d,m,f,p,b,y,g,v,C,w,x,O,S,j=n("2b0e"),_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("sneaker")],1)},M=[],N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sneaker"},[n("h1",[e._v("Sneaker!")]),n("sneaker-display",{staticClass:"sneaker__display sm:w-7/12 sm:mx-0"}),n("sneaker-options",{staticClass:"mt-3"})],1)},$=[],k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sneaker-display"},[n("spinner"),n("scene",{scopedSlots:e._u([{key:"default",fn:function(t){var r=t.scene,o=t.dimensions,s=t.aspect,i=t.addObject;return[n("perspective-camera",{attrs:{fov:40,aspect:s,near:.25,far:20,position:{x:-5,y:10,z:12}},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.camera;return[n("renderer",{attrs:{scene:r,camera:s,dimensions:o},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.domElement;return[n("orbit-controls",{attrs:{camera:s,"dom-element":r}}),n("hemisphere-light",{on:{created:i}}),n("spot-light",{attrs:{position:{x:0,y:255,z:50},"cast-shadow":!0,"shadow-near":500,"shadow-far":4e3,"shadow-fov":30},on:{created:i}}),n("spot-light",{attrs:{position:{x:-100,y:100,z:-150},"cast-shadow":!0,"shadow-near":250,"shadow-far":2e3,"shadow-fov":70},on:{created:i}}),n("point-light",{attrs:{distance:50,position:{x:10,y:0,z:25}},on:{created:i}}),n("point-light",{attrs:{distance:100,position:{x:50,y:50,z:50}},on:{created:i}}),n("mesh",{attrs:{name:"cubeMesh",position:{x:-3,y:2,z:2}},on:{created:i}}),n("box-geometry",{attrs:{meshName:"cubeMesh"}}),n("mesh-lambert-material",{attrs:{meshName:"cubeMesh",color:e.cubeColor}}),n("loading-manager",{scopedSlots:e._u([{key:"default",fn:function(t){var r=t.manager;return[n("gltf",{attrs:{path:"./shoe/scene.gltf",scale:.7,"mesh-colors":e.meshColors,"mesh-textures":e.meshTextures,manager:r},on:{created:i}})]}}],null,!0)})]}}],null,!0)})]}}],null,!0)})]}}])})],1)},E=[],T=n("5a89"),P=new j["a"],z=P,L={name:"scene",props:{},data:function(){return{scene:null,dimensions:null,container:null}},computed:{aspect:function(){return this.dimensions?this.dimensions.width/this.dimensions.height:1}},methods:{addObject:function(e){this.scene.add(e),z.$emit("render")},setupDimensions:function(){var e=this.container.clientWidth,t=window.innerWidth>window.innerHeight?e*window.innerHeight/window.innerWidth:e*window.innerHeight/window.innerWidth/2;this.dimensions={width:e,height:t}}},created:function(){this.scene=new T["eb"]},mounted:function(){this.container=document.querySelector(".renderer"),this.setupDimensions(),window.addEventListener("resize",this.setupDimensions)},beforeDestroy:function(){window.removeEventListener("resize",this.setupDimensions)},render:function(){return this.$scopedSlots.default({scene:this.scene,addObject:this.addObject,dimensions:this.dimensions,aspect:this.aspect})}},D=L,R=n("2877"),q=Object(R["a"])(D,r,o,!1,null,null,null),H=q.exports,A=(n("a9e3"),{name:"perspective-camera",props:{fov:{type:Number,default:50},aspect:{type:Number,default:1},near:{type:Number,default:.1},far:{type:Number,default:2e3},position:{type:Object,default:function(){return{x:0,y:1,z:0}}}},data:function(){return{camera:null}},watch:{aspect:function(e){this.camera.aspect=e,this.camera.updateProjectionMatrix()}},created:function(){this.camera=new T["U"](this.fov,this.aspect,this.near,this.far),this.camera.position.set(this.position.x,this.position.y,this.position.z)},render:function(){return this.$scopedSlots.default({camera:this.camera})}}),B=A,F=Object(R["a"])(B,s,i,!1,null,null,null),V=F.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"renderer"},[e._t("default",null,{domElement:e.domElement})],2)},J=[],U={name:"renderer",props:{scene:{type:Object,default:null},camera:{type:Object,default:null},dimensions:{type:Object,default:null},clearColor:{type:Number,default:16448250}},data:function(){return{renderer:null}},computed:{width:function(){return this.dimensions?this.dimensions.width:0},height:function(){return this.dimensions?this.dimensions.height:0},domElement:function(){return this.renderer?this.renderer.domElement:null}},methods:{render:function(){this.renderer.render(this.scene,this.camera)},getDimensions:function(){}},watch:{dimensions:function(e){this.renderer.setSize(e.width,e.height),this.render()}},created:function(){this.renderer=new T["sb"]({antialias:!0}),this.renderer.setClearColor(this.clearColor)},mounted:function(){var e=this;this.$el.appendChild(this.renderer.domElement),this.render(),z.$on("render",(function(t){t?t(e.render):e.render()}))}},G=U,Y=(n("d53e"),Object(R["a"])(G,W,J,!1,null,null,null)),I=Y.exports,K=n("4721"),Q={name:"orbit-controls",props:{camera:{type:Object,required:!0},domElement:{type:HTMLCanvasElement,required:!0}},data:function(){return{controls:null}},mounted:function(){this.controls=new K["a"](this.camera,this.domElement),this.updateControls(),this.controls.addEventListener("change",this.render)},beforeDestroy:function(){this.controls.removeEventListener("change",this.render)},methods:{updateControls:function(){this.controls.update()},render:function(){z.$emit("render")}},render:function(){return null}},X=Q,Z=Object(R["a"])(X,a,l,!1,null,null,null),ee=Z.exports,te={name:"hemisphere-light",props:{skyColor:{type:Number,default:16777215},groundColor:{type:Number,default:16777215},intensity:{type:Number,default:1},position:{type:Object,default:function(){return{x:0,y:1,z:0}}}},created:function(){var e=new T["o"](this.skyColor,this.groundColor,this.intensity);e.position.set(this.position.x,this.position.y,this.position.z),this.$emit("created",e)},render:function(){return null}},ne=te,re=Object(R["a"])(ne,u,c,!1,null,null,null),oe=re.exports,se={name:"hemisphere-light",props:{color:{type:Number,default:16777215},intensity:{type:Number,default:1},distance:{type:Number,default:0},castShadow:{type:Boolean,default:!1},shadowNear:{type:Number,default:0},shadowFar:{type:Number,default:0},shadowFov:{type:Number,default:0},position:{type:Object,default:function(){return{x:0,y:1,z:0}}}},created:function(){var e=new T["jb"](this.color,this.intensity,this.distance);e.position.set(this.position.x,this.position.y,this.position.z),e.castShadow=this.castShadow,this.castShadow&&(e.shadow.camera.near=this.shadowNear,e.shadow.camera.far=this.shadowFar,e.shadow.camera.fov=this.shadowFov),this.$emit("created",e)},render:function(){return null}},ie=se,ae=Object(R["a"])(ie,h,d,!1,null,null,null),le=ae.exports,ue={name:"point-light",props:{color:{type:Number,default:16777215},intensity:{type:Number,default:1},distance:{type:Number,default:0},position:{type:Object,default:function(){return{x:0,y:1,z:0}}}},created:function(){var e=new T["V"](this.color,this.intensity,this.distance);e.position.set(this.position.x,this.position.y,this.position.z),this.$emit("created",e)},render:function(){return null}},ce=ue,he=Object(R["a"])(ce,m,f,!1,null,null,null),de=he.exports,me=(n("b0c0"),{name:"mesh",props:{name:{Type:String,required:!0},position:{type:Object,default:function(){return{x:0,y:1,z:0}}}},data:function(){return{mesh:null,material:null,geometry:null}},computed:{elementsAreReady:function(){return!!this.material&&!!this.geometry}},watch:{elementsAreReady:function(e){e&&(this.mesh=new T["I"](this.geometry,this.material),this.mesh.position.set(this.position.x,this.position.y,this.position.z),this.$emit("created",this.mesh))}},created:function(){var e=this;z.$on("materialCreated",(function(t){var n=t.material,r=t.meshName;e.name===r&&(e.material=n)})),z.$on("geometryCreated",(function(t){var n=t.geometry,r=t.meshName;e.name===r&&(e.geometry=n)}))},methods:{rotate:function(e){var t=this;requestAnimationFrame((function(){t.rotate(e)})),this.mesh.rotation.x+=.04,this.mesh.rotation.y+=.04,e()}},render:function(){return null}}),fe=me,pe=Object(R["a"])(fe,p,b,!1,null,null,null),be=pe.exports,ye={name:"mesh-lambert-material",props:{meshName:{type:String,required:!0},color:{Type:Number,default:0}},data:function(){return{material:null}},watch:{color:function(e){this.material.color.setHex(e),z.$emit("render")}},beforeMount:function(){this.material=new T["K"]({color:this.color}),z.$emit("materialCreated",{material:this.material,meshName:this.meshName})},render:function(){return null}},ge=ye,ve=Object(R["a"])(ge,y,g,!1,null,null,null),Ce=ve.exports,we={name:"box-geometry",props:{meshName:{type:String,required:!0},width:{Type:Number,default:1},height:{Type:Number,default:1},depth:{Type:Number,default:1}},data:function(){return{geometry:null}},beforeMount:function(){this.geometry=new T["d"](this.width,this.height,this.depth),z.$emit("geometryCreated",{geometry:this.geometry,meshName:this.meshName})},render:function(){return null}},xe=we,Oe=Object(R["a"])(xe,v,C,!1,null,null,null),Se=Oe.exports,je={name:"loading-manager",props:{},data:function(){return{manager:null}},created:function(){this.manager=new T["D"],this.manager.onStart=this.onStart,this.manager.onLoad=this.onLoad,this.manager.onError=this.onError},methods:{onStart:function(){z.$emit("loading",!0)},onLoad:function(){z.$emit("loading",!1)},onError:function(e){z.$emit("loading",!1),console.log("Error loading: ".concat(e))}},render:function(){return this.$scopedSlots.default({manager:this.manager})}},_e=je,Me=Object(R["a"])(_e,w,x,!1,null,null,null),Ne=Me.exports,$e=n("34ad"),ke=new T["mb"],Ee={name:"gltf",props:{path:{type:String,required:!0},manager:{type:Object,default:null},scale:{type:Number,default:1},meshColors:{type:Object,default:function(){return{}}},meshTextures:{type:Object,default:function(){return{}}}},data:function(){return{loader:null,model:null,defaultMaterial:{}}},created:function(){this.loader=new $e["a"](this.manager),this.load()},watch:{meshColors:{deep:!0,handler:function(){this.changeMeshColor()}},meshTextures:{deep:!0,handler:function(){this.changeMeshTexture()}}},methods:{load:function(){var e=this;this.loader.load(this.path,(function(t){e.model=t.scene,e.model.scale.set(e.scale,e.scale,e.scale),e.changeMeshColor(),e.$emit("created",e.model)}))},changeMeshColor:function(){var e=this;this.model.traverse((function(t){if(t.isMesh&&t.name in e.meshColors){var n=t;n.material.color=new T["h"](e.meshColors[t.name]),z.$emit("render")}}))},changeMeshTexture:function(){var e=this;this.model.traverse((function(t){if(t.isMesh&&t.name in e.meshTextures){e.saveDefaultTexture(t);var n=e.meshTextures[t.name],r=t;!n&&t.name in e.defaultMaterial?(r.material=e.defaultMaterial[t.name],z.$emit("render")):(z.$emit("loading",!0),ke.load(n,(function(e){r.material=new T["J"]({map:e}),z.$emit("render"),z.$emit("loading",!1),e.dispose()}),void 0,(function(e){console.error("An error happened: ".concat(e))})))}}))},saveDefaultTexture:function(e){this.defaultMaterial[e.name]||(this.defaultMaterial[e.name]=e.material.clone())}},render:function(){return null}},Te=Ee,Pe=Object(R["a"])(Te,O,S,!1,null,null,null),ze=Pe.exports,Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loading?n("div",{staticClass:"lds-dual-ring"}):e._e()},De=[],Re={name:"spinner",data:function(){return{loading:!1}},methods:{setLoading:function(e){this.loading=e}},beforeMount:function(){z.$on("loading",this.setLoading)}},qe=Re,He=Object(R["a"])(qe,Le,De,!1,null,null,null),Ae=He.exports,Be={name:"sneaker-display",components:{Scene:H,PerspectiveCamera:V,Renderer:I,OrbitControls:ee,HemisphereLight:oe,SpotLight:le,PointLight:de,Mesh:be,MeshLambertMaterial:Ce,BoxGeometry:Se,LoadingManager:Ne,Gltf:ze,Spinner:Ae},computed:{cubeColor:function(){return this.$store.getters.cubeColor},meshColors:function(){return this.$store.getters.shoeMeshColors},meshTextures:function(){return this.$store.getters.shoeMeshTextures}}},Fe=Be,Ve=Object(R["a"])(Fe,k,E,!1,null,null,null),We=Ve.exports,Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sneaker-options"},[n("p",{staticClass:"flex justify-start font-bold w-full px-5"},[e._v(" Cube color: ")]),n("div",{staticClass:"flex flex-row flex-wrap justify-start px-6"},[n("color-btn",{staticClass:"bg-blue-400",on:{click:function(t){return e.setCubeColor(6534125)}}}),n("color-btn",{staticClass:"bg-green-700",on:{click:function(t){return e.setCubeColor(3114330)}}}),n("color-btn",{staticClass:"bg-red-600",on:{click:function(t){return e.setCubeColor(15023678)}}}),n("color-btn",{staticClass:"bg-pink-400",on:{click:function(t){return e.setCubeColor(16156595)}}})],1),n("p",{staticClass:"flex justify-start font-bold w-full px-5 mt-6"},[e._v(" Shoe color: ")]),n("div",{staticClass:"flex flex-row flex-wrap justify-start px-6"},[n("color-btn",{staticClass:"bg-green-700",on:{click:function(t){return e.setShoeProperty("shoeMeshColors",3114330)}}}),n("color-btn",{staticClass:"bg-red-600",on:{click:function(t){return e.setShoeProperty("shoeMeshColors",15023678)}}}),n("color-btn",{staticClass:"sneaker-options__random-btn",on:{click:function(t){return e.setRandomShoeColor("shoeMeshColors")}}}),n("color-btn",{staticClass:"border",on:{click:function(t){return e.setShoeProperty("shoeMeshColors",16777215)}}})],1),n("p",{staticClass:"flex justify-start font-bold w-full px-5 mt-6"},[e._v(" Shoe texture: ")]),n("div",{staticClass:"flex flex-row flex-wrap justify-start px-6"},[n("color-btn",{staticClass:"sneaker-options__texture-btn",on:{click:function(t){return e.setShoeProperty("shoeMeshTextures","./shoe/textures/texture2.jpg")}}}),n("color-btn",{staticClass:"border",on:{click:function(t){return e.setShoeProperty("shoeMeshTextures")}}})],1)])},Ue=[],Ge=(n("d3b7"),n("25f0"),function(e,t){var n=t._c;return n("button",t._g({staticClass:"color-button",class:[t.data.class,t.data.staticClass]},t.listeners))}),Ye=[],Ie={name:"color-button"},Ke=Ie,Qe=(n("f6ad"),Object(R["a"])(Ke,Ge,Ye,!0,null,null,null)),Xe=Qe.exports,Ze={name:"sneaker-options",components:{ColorBtn:Xe},methods:{setCubeColor:function(e){this.$store.dispatch("setCubeColor",e)},setShoeProperty:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$store.dispatch("setShoeProperty",{propertyName:e,meshName:"mesh_0",propertyValue:t})},setRandomShoeColor:function(e){var t="#".concat(Math.floor(16777215*Math.random()).toString(16));this.setShoeProperty(e,t)}}},et=Ze,tt=(n("7ce1"),Object(R["a"])(et,Je,Ue,!1,null,null,null)),nt=tt.exports,rt={name:"sneaker",components:{SneakerDisplay:We,SneakerOptions:nt}},ot=rt,st=(n("5743"),Object(R["a"])(ot,N,$,!1,null,null,null)),it=st.exports,at={name:"App",components:{Sneaker:it}},lt=at,ut=(n("5c0b"),Object(R["a"])(lt,_,M,!1,null,null,null)),ct=ut.exports,ht=n("2f62");j["a"].use(ht["a"]);var dt=new ht["a"].Store({state:{cubeColor:16156595,shoeMeshColors:{},shoeMeshTextures:{}},getters:{cubeColor:function(e){return e.cubeColor},shoeMeshColors:function(e){return e.shoeMeshColors},shoeMeshTextures:function(e){return e.shoeMeshTextures}},mutations:{SET_CUBE_COLOR:function(e,t){e.cubeColor=t},SET_SHOE_PROPERTY:function(e,t){var n=t.propertyName,r=t.meshName,o=t.propertyValue;j["a"].set(e[n],r,o)}},actions:{setCubeColor:function(e,t){var n=e.commit;n("SET_CUBE_COLOR",t)},setShoeProperty:function(e,t){var n=e.commit,r=t.propertyName,o=t.meshName,s=t.propertyValue;try{n("SET_SHOE_PROPERTY",{propertyName:r,meshName:o,propertyValue:s})}catch(i){console.log(i)}}}});n("5aea");j["a"].config.productionTip=!1,new j["a"]({store:dt,render:function(e){return e(ct)}}).$mount("#app")},5743:function(e,t,n){"use strict";var r=n("5554"),o=n.n(r);o.a},"5aea":function(e,t,n){},"5c0b":function(e,t,n){"use strict";var r=n("9c0c"),o=n.n(r);o.a},"7ce1":function(e,t,n){"use strict";var r=n("9d0c"),o=n.n(r);o.a},"9c0c":function(e,t,n){},"9d0c":function(e,t,n){},d53e:function(e,t,n){"use strict";var r=n("e0cd"),o=n.n(r);o.a},e0cd:function(e,t,n){},f6ad:function(e,t,n){"use strict";var r=n("08d1"),o=n.n(r);o.a}});