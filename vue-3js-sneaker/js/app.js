(function(e){function t(t){for(var r,a,i=t[0],l=t[1],u=t[2],d=0,h=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&h.push(o[a][0]),o[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);c&&c(t);while(h.length)h.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,i=1;i<n.length;i++){var l=n[i];0!==o[l]&&(r=!1)}r&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},s=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var c=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"08d1":function(e,t,n){},5554:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r,o,s,a,i,l,u,c,d,h,m,f,p,b,y,g,C,v,x,w,O,S,j=n("2b0e"),_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("sneaker")],1)},M=[],N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sneaker"},[n("sneaker-display",{staticClass:"sneaker__display"}),n("sneaker-options",{staticClass:"mt-3"})],1)},$=[],k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sneaker-display"},[n("spinner"),n("scene",{scopedSlots:e._u([{key:"default",fn:function(t){var r=t.scene,o=t.dimensions,s=t.aspect,a=t.addObject;return[n("perspective-camera",{attrs:{fov:40,aspect:s,near:.25,far:20,position:{x:-5,y:10,z:12}},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.camera;return[n("renderer",{attrs:{scene:r,camera:s,dimensions:o},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.domElement;return[n("orbit-controls",{attrs:{camera:s,"dom-element":r}}),n("hemisphere-light",{on:{created:a}}),n("spot-light",{attrs:{position:{x:0,y:255,z:50},"cast-shadow":!0,"shadow-near":500,"shadow-far":4e3,"shadow-fov":30},on:{created:a}}),n("spot-light",{attrs:{position:{x:-100,y:100,z:-150},"cast-shadow":!0,"shadow-near":250,"shadow-far":2e3,"shadow-fov":70},on:{created:a}}),n("point-light",{attrs:{distance:50,position:{x:10,y:0,z:25}},on:{created:a}}),n("point-light",{attrs:{distance:100,position:{x:50,y:50,z:50}},on:{created:a}}),n("mesh",{attrs:{name:"cubeMesh",position:{x:-3,y:2,z:2}},on:{created:a}}),n("box-geometry",{attrs:{meshName:"cubeMesh"}}),n("mesh-lambert-material",{attrs:{meshName:"cubeMesh",color:e.cubeColor}}),n("loading-manager",{scopedSlots:e._u([{key:"default",fn:function(t){var r=t.manager;return[n("gltf",{attrs:{path:"./shoe/scene.gltf",scale:.7,"mesh-colors":e.meshColors,"mesh-textures":e.meshTextures,manager:r},on:{created:a}})]}}],null,!0)})]}}],null,!0)})]}}],null,!0)})]}}])})],1)},T=[],E=n("5a89"),P=new j["a"],z=P,L={name:"scene",props:{},data:function(){return{scene:null,dimensions:null}},computed:{aspect:function(){return this.dimensions?this.dimensions.width/this.dimensions.height:1}},methods:{addObject:function(e){this.scene.add(e),z.$emit("render")}},created:function(){this.scene=new E["eb"]},mounted:function(){var e=document.querySelector(".renderer"),t=e.clientWidth,n=t*window.innerHeight/window.innerWidth;this.dimensions={width:t,height:n}},render:function(){return this.$scopedSlots.default({scene:this.scene,addObject:this.addObject,dimensions:this.dimensions,aspect:this.aspect})}},R=L,q=n("2877"),H=Object(q["a"])(R,r,o,!1,null,null,null),A=H.exports,B=(n("a9e3"),{name:"perspective-camera",props:{fov:{type:Number,default:50},aspect:{type:Number,default:1},near:{type:Number,default:.1},far:{type:Number,default:2e3},position:{type:Object,default:function(){return{x:0,y:1,z:0}}}},data:function(){return{camera:null}},created:function(){this.camera=new E["U"](this.fov,this.aspect,this.near,this.far),this.camera.position.set(this.position.x,this.position.y,this.position.z)},render:function(){return this.$scopedSlots.default({camera:this.camera})}}),D=B,F=Object(q["a"])(D,s,a,!1,null,null,null),V=F.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"renderer"},[e._t("default",null,{domElement:e.domElement})],2)},U=[],G={name:"renderer",props:{scene:{type:Object,default:null},camera:{type:Object,default:null},dimensions:{type:Object,default:null},clearColor:{type:Number,default:16448250}},data:function(){return{renderer:null}},computed:{width:function(){return this.dimensions?this.dimensions.width:0},height:function(){return this.dimensions?this.dimensions.height:0},domElement:function(){return this.renderer?this.renderer.domElement:null}},methods:{render:function(){this.renderer.render(this.scene,this.camera)},getDimensions:function(){}},watch:{dimensions:function(e){this.renderer.setSize(e.width,e.height),this.render()}},created:function(){this.renderer=new E["sb"]({antialias:!0}),this.renderer.setClearColor(this.clearColor)},mounted:function(){var e=this;this.$el.appendChild(this.renderer.domElement),this.render(),z.$on("render",(function(t){t?t(e.render):e.render()}))}},W=G,Y=(n("d53e"),Object(q["a"])(W,J,U,!1,null,null,null)),I=Y.exports,K=n("4721"),Q={name:"orbit-controls",props:{camera:{type:Object,required:!0},domElement:{type:HTMLCanvasElement,required:!0}},data:function(){return{controls:null}},mounted:function(){this.controls=new K["a"](this.camera,this.domElement),this.updateControls(),this.controls.addEventListener("change",this.callRenderer)},methods:{updateControls:function(){this.controls.update()},callRenderer:function(){z.$emit("render")}},render:function(){return null}},X=Q,Z=Object(q["a"])(X,i,l,!1,null,null,null),ee=Z.exports,te={name:"hemisphere-light",props:{skyColor:{type:Number,default:16777215},groundColor:{type:Number,default:16777215},intensity:{type:Number,default:1},position:{type:Object,default:function(){return{x:0,y:1,z:0}}}},created:function(){var e=new E["o"](this.skyColor,this.groundColor,this.intensity);e.position.set(this.position.x,this.position.y,this.position.z),this.$emit("created",e)},render:function(){return null}},ne=te,re=Object(q["a"])(ne,u,c,!1,null,null,null),oe=re.exports,se={name:"hemisphere-light",props:{color:{type:Number,default:16777215},intensity:{type:Number,default:1},distance:{type:Number,default:0},castShadow:{type:Boolean,default:!1},shadowNear:{type:Number,default:0},shadowFar:{type:Number,default:0},shadowFov:{type:Number,default:0},position:{type:Object,default:function(){return{x:0,y:1,z:0}}}},created:function(){var e=new E["jb"](this.color,this.intensity,this.distance);e.position.set(this.position.x,this.position.y,this.position.z),e.castShadow=this.castShadow,this.castShadow&&(e.shadow.camera.near=this.shadowNear,e.shadow.camera.far=this.shadowFar,e.shadow.camera.fov=this.shadowFov),this.$emit("created",e)},render:function(){return null}},ae=se,ie=Object(q["a"])(ae,d,h,!1,null,null,null),le=ie.exports,ue={name:"point-light",props:{color:{type:Number,default:16777215},intensity:{type:Number,default:1},distance:{type:Number,default:0},position:{type:Object,default:function(){return{x:0,y:1,z:0}}}},created:function(){var e=new E["V"](this.color,this.intensity,this.distance);e.position.set(this.position.x,this.position.y,this.position.z),this.$emit("created",e)},render:function(){return null}},ce=ue,de=Object(q["a"])(ce,m,f,!1,null,null,null),he=de.exports,me=(n("b0c0"),{name:"mesh",props:{name:{Type:String,required:!0},position:{type:Object,default:function(){return{x:0,y:1,z:0}}}},data:function(){return{mesh:null,material:null,geometry:null}},computed:{elementsAreReady:function(){return!!this.material&&!!this.geometry}},watch:{elementsAreReady:function(e){e&&(this.mesh=new E["I"](this.geometry,this.material),this.mesh.position.set(this.position.x,this.position.y,this.position.z),this.$emit("created",this.mesh))}},created:function(){var e=this;z.$on("materialCreated",(function(t){var n=t.material,r=t.meshName;e.name===r&&(e.material=n)})),z.$on("geometryCreated",(function(t){var n=t.geometry,r=t.meshName;e.name===r&&(e.geometry=n)}))},methods:{rotate:function(e){var t=this;requestAnimationFrame((function(){t.rotate(e)})),this.mesh.rotation.x+=.04,this.mesh.rotation.y+=.04,e()}},render:function(){return null}}),fe=me,pe=Object(q["a"])(fe,p,b,!1,null,null,null),be=pe.exports,ye={name:"mesh-lambert-material",props:{meshName:{type:String,required:!0},color:{Type:Number,default:0}},data:function(){return{material:null}},watch:{color:function(e){this.material.color.setHex(e),z.$emit("render")}},beforeMount:function(){this.material=new E["K"]({color:this.color}),z.$emit("materialCreated",{material:this.material,meshName:this.meshName})},render:function(){return null}},ge=ye,Ce=Object(q["a"])(ge,y,g,!1,null,null,null),ve=Ce.exports,xe={name:"box-geometry",props:{meshName:{type:String,required:!0},width:{Type:Number,default:1},height:{Type:Number,default:1},depth:{Type:Number,default:1}},data:function(){return{geometry:null}},beforeMount:function(){this.geometry=new E["d"](this.width,this.height,this.depth),z.$emit("geometryCreated",{geometry:this.geometry,meshName:this.meshName})},render:function(){return null}},we=xe,Oe=Object(q["a"])(we,C,v,!1,null,null,null),Se=Oe.exports,je={name:"loading-manager",props:{},data:function(){return{manager:null}},created:function(){this.manager=new E["D"],this.manager.onStart=this.onStart,this.manager.onLoad=this.onLoad,this.manager.onError=this.onError},methods:{onStart:function(){z.$emit("loading",!0)},onLoad:function(){z.$emit("loading",!1)},onError:function(e){z.$emit("loading",!1),console.log("Error loading: ".concat(e))}},render:function(){return this.$scopedSlots.default({manager:this.manager})}},_e=je,Me=Object(q["a"])(_e,x,w,!1,null,null,null),Ne=Me.exports,$e=n("34ad"),ke=new E["mb"],Te={name:"gltf",props:{path:{type:String,required:!0},manager:{type:Object,default:null},scale:{type:Number,default:1},meshColors:{type:Object,default:function(){return{}}},meshTextures:{type:Object,default:function(){return{}}}},data:function(){return{loader:null,model:null,defaultMaterial:{}}},created:function(){this.loader=new $e["a"](this.manager),this.load()},watch:{meshColors:{deep:!0,handler:function(){this.changeMeshColor()}},meshTextures:{deep:!0,handler:function(){this.changeMeshTexture()}}},methods:{load:function(){var e=this;this.loader.load(this.path,(function(t){e.model=t.scene,e.model.scale.set(e.scale,e.scale,e.scale),e.changeMeshColor(),e.$emit("created",e.model)}))},changeMeshColor:function(){var e=this;this.model.traverse((function(t){if(t.isMesh&&t.name in e.meshColors){var n=t;n.material.color=new E["h"](e.meshColors[t.name]),z.$emit("render")}}))},changeMeshTexture:function(){var e=this;this.model.traverse((function(t){if(t.isMesh&&t.name in e.meshTextures){e.saveDefaultTexture(t);var n=e.meshTextures[t.name],r=t;!n&&t.name in e.defaultMaterial?(r.material=e.defaultMaterial[t.name],z.$emit("render")):(z.$emit("loading",!0),ke.load(n,(function(e){r.material=new E["J"]({map:e}),z.$emit("render"),z.$emit("loading",!1),e.dispose()}),void 0,(function(e){console.error("An error happened: ".concat(e))})))}}))},saveDefaultTexture:function(e){this.defaultMaterial[e.name]||(this.defaultMaterial[e.name]=e.material.clone())}},render:function(){return null}},Ee=Te,Pe=Object(q["a"])(Ee,O,S,!1,null,null,null),ze=Pe.exports,Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loading?n("div",{staticClass:"lds-dual-ring"}):e._e()},Re=[],qe={name:"spinner",data:function(){return{loading:!1}},methods:{setLoading:function(e){this.loading=e}},beforeMount:function(){z.$on("loading",this.setLoading)}},He=qe,Ae=Object(q["a"])(He,Le,Re,!1,null,null,null),Be=Ae.exports,De={name:"sneaker-display",components:{Scene:A,PerspectiveCamera:V,Renderer:I,OrbitControls:ee,HemisphereLight:oe,SpotLight:le,PointLight:he,Mesh:be,MeshLambertMaterial:ve,BoxGeometry:Se,LoadingManager:Ne,Gltf:ze,Spinner:Be},computed:{cubeColor:function(){return this.$store.getters.cubeColor},meshColors:function(){return this.$store.getters.shoeMeshColors},meshTextures:function(){return this.$store.getters.shoeMeshTextures}}},Fe=De,Ve=Object(q["a"])(Fe,k,T,!1,null,null,null),Je=Ve.exports,Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sneaker-options"},[n("p",{staticClass:"flex justify-start font-bold w-full px-5"},[e._v(" Cube color: ")]),n("div",{staticClass:"flex flex-row flex-wrap justify-start px-6"},[n("color-btn",{staticClass:"bg-blue-400",on:{click:function(t){return e.setCubeColor(6534125)}}}),n("color-btn",{staticClass:"bg-green-700",on:{click:function(t){return e.setCubeColor(3114330)}}}),n("color-btn",{staticClass:"bg-red-600",on:{click:function(t){return e.setCubeColor(15023678)}}}),n("color-btn",{staticClass:"bg-pink-400",on:{click:function(t){return e.setCubeColor(16156595)}}})],1),n("p",{staticClass:"flex justify-start font-bold w-full px-5 mt-6"},[e._v(" Shoe color: ")]),n("div",{staticClass:"flex flex-row flex-wrap justify-start px-6"},[n("color-btn",{staticClass:"bg-green-700",on:{click:function(t){return e.setShoeProperty("shoeMeshColors",3114330)}}}),n("color-btn",{staticClass:"bg-red-600",on:{click:function(t){return e.setShoeProperty("shoeMeshColors",15023678)}}}),n("color-btn",{staticClass:"sneaker-options__random-btn",on:{click:function(t){return e.setRandomShoeColor("shoeMeshColors")}}}),n("color-btn",{staticClass:"border",on:{click:function(t){return e.setShoeProperty("shoeMeshColors",16777215)}}})],1),n("p",{staticClass:"flex justify-start font-bold w-full px-5 mt-6"},[e._v(" Shoe texture: ")]),n("div",{staticClass:"flex flex-row flex-wrap justify-start px-6"},[n("color-btn",{staticClass:"sneaker-options__texture-btn",on:{click:function(t){return e.setShoeProperty("shoeMeshTextures","./shoe/textures/texture2.jpg")}}}),n("color-btn",{staticClass:"border",on:{click:function(t){return e.setShoeProperty("shoeMeshTextures")}}})],1)])},Ge=[],We=(n("d3b7"),n("25f0"),function(e,t){var n=t._c;return n("button",t._g({staticClass:"color-button",class:[t.data.class,t.data.staticClass]},t.listeners))}),Ye=[],Ie={name:"color-button"},Ke=Ie,Qe=(n("f6ad"),Object(q["a"])(Ke,We,Ye,!0,null,null,null)),Xe=Qe.exports,Ze={name:"sneaker-options",components:{ColorBtn:Xe},methods:{setCubeColor:function(e){this.$store.dispatch("setCubeColor",e)},setShoeProperty:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$store.dispatch("setShoeProperty",{propertyName:e,meshName:"mesh_0",propertyValue:t})},setRandomShoeColor:function(e){var t="#".concat(Math.floor(16777215*Math.random()).toString(16));this.setShoeProperty(e,t)}}},et=Ze,tt=(n("7ce1"),Object(q["a"])(et,Ue,Ge,!1,null,null,null)),nt=tt.exports,rt={name:"sneaker",components:{SneakerDisplay:Je,SneakerOptions:nt}},ot=rt,st=(n("5743"),Object(q["a"])(ot,N,$,!1,null,null,null)),at=st.exports,it={name:"App",components:{Sneaker:at}},lt=it,ut=(n("5c0b"),Object(q["a"])(lt,_,M,!1,null,null,null)),ct=ut.exports,dt=n("2f62");j["a"].use(dt["a"]);var ht=new dt["a"].Store({state:{cubeColor:16156595,shoeMeshColors:{},shoeMeshTextures:{}},getters:{cubeColor:function(e){return e.cubeColor},shoeMeshColors:function(e){return e.shoeMeshColors},shoeMeshTextures:function(e){return e.shoeMeshTextures}},mutations:{SET_CUBE_COLOR:function(e,t){e.cubeColor=t},SET_SHOE_PROPERTY:function(e,t){var n=t.propertyName,r=t.meshName,o=t.propertyValue;j["a"].set(e[n],r,o)}},actions:{setCubeColor:function(e,t){var n=e.commit;n("SET_CUBE_COLOR",t)},setShoeProperty:function(e,t){var n=e.commit,r=t.propertyName,o=t.meshName,s=t.propertyValue;try{n("SET_SHOE_PROPERTY",{propertyName:r,meshName:o,propertyValue:s})}catch(a){console.log(a)}}}});n("5aea");j["a"].config.productionTip=!1,new j["a"]({store:ht,render:function(e){return e(ct)}}).$mount("#app")},5743:function(e,t,n){"use strict";var r=n("5554"),o=n.n(r);o.a},"5aea":function(e,t,n){},"5c0b":function(e,t,n){"use strict";var r=n("9c0c"),o=n.n(r);o.a},"7ce1":function(e,t,n){"use strict";var r=n("9d0c"),o=n.n(r);o.a},"9c0c":function(e,t,n){},"9d0c":function(e,t,n){},d53e:function(e,t,n){"use strict";var r=n("e0cd"),o=n.n(r);o.a},e0cd:function(e,t,n){},f6ad:function(e,t,n){"use strict";var r=n("08d1"),o=n.n(r);o.a}});